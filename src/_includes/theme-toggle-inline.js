(()=>{var n="theme-preference",r,l="{{ meta.themeSwitch.light }}",a="{{ meta.themeSwitch.dark }}",i=()=>{r&&r.play(),document.addEventListener("DOMContentLoaded",()=>{r=new Audio("/assets/sounds/light-on.mp3"),document.querySelector("#theme-switcher-label").addEventListener("click",i)}),e.value=e.value==="light"?"dark":"light",document.querySelector("[theme-toggle]").querySelector("span").innerHTML=e.value==="light"?l:a,d()},s=()=>localStorage.getItem(n)?localStorage.getItem(n):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",d=()=>{localStorage.setItem(n,e.value),o()},o=()=>{document.firstElementChild.setAttribute("data-theme",e.value)},e={value:s()};o();window.onload=()=>{let t=document.querySelector("[theme-toggle]"),c=document.querySelector("[data-theme-switcher]");c&&(c.removeAttribute("hidden"),o(),t.addEventListener("click",i),t.querySelector("span").innerHTML=e.value==="light"?l:a)};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:t})=>{e.value=t?"dark":"light",d()});})();
